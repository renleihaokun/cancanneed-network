{
  "version": 3,
  "sources": ["../../../src/index.js", "file:///C:/Users/chaog/AppData/Local/npm-cache/_npx/32026684e21afda6/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "file:///C:/Users/chaog/AppData/Local/npm-cache/_npx/32026684e21afda6/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../bundle-qUvfQW/middleware-insertion-facade.js", "file:///C:/Users/chaog/AppData/Local/npm-cache/_npx/32026684e21afda6/node_modules/wrangler/templates/middleware/common.ts", "../bundle-qUvfQW/middleware-loader.entry.ts"],
  "sourceRoot": "A:\\\u6587\u4EF6\uFF08A\uFF09\\\u5DE5\u7A0B\\\u770B\u770B\u4F60\u7684\u7F51\\cancanneed-network\\.wrangler\\tmp\\dev-DLVR8X",
  "sourcesContent": ["/**\n * @param {Request} request\n * @param {object} env - The environment object containing secrets.\n * @returns {Promise<Response>}\n */\nexport default {\n  async fetch(request, env) {\n    const url = new URL(request.url);\n    const action = url.searchParams.get('act');\n\n    // === \u8DEF\u7531\u5206\u53D1 ===\n    \n    // 1. AI \u5206\u6790\u63A5\u53E3\n    if (action === 'analyze') {\n      return handleAIAnalyze(request, env);\n    }\n\n    // 2. Ping \u6D4B\u901F\u63A5\u53E3\n    if (action === 'ping') {\n      return handlePing();\n    }\n\n    // 3. \u83B7\u53D6 IP \u4FE1\u606F\u63A5\u53E3 (\u65B0\u589E)\n    if (action === 'get_ip_info') {\n      return handleGetIPInfo(request);\n    }\n    \n    // 4. \u9ED8\u8BA4\uFF1A\u6E32\u67D3\u4E3B\u9875\u9762\n    return renderHTML(request);\n  },\n};\n\n// =========================================\n//            \u540E\u7AEF\u903B\u8F91\u5904\u7406\u51FD\u6570\n// =========================================\n\n/**\n * \u83B7\u53D6\u5BA2\u6237\u7AEF IP \u53CA\u7F51\u7EDC\u4FE1\u606F API\n */\nfunction handleGetIPInfo(request) {\n    const cf = request.cf || {};\n    const rawIsp = cf.asOrganization || \"\";\n    const asn = cf.asn || 0;\n    const ip = request.headers.get(\"CF-Connecting-IP\") || \"0.0.0.0\";\n    const colo = cf.colo || \"UNK\";\n    const nodeInfo = translateColo(colo);\n    const ispInfo = identifyISP(rawIsp, asn);\n\n    const data = {\n        ip: ip,\n        node: {\n            code: colo,\n            name: nodeInfo.name,\n            iso: nodeInfo.iso\n        },\n        asn: asn,\n        isp: {\n            name: ispInfo.name,\n            raw: rawIsp\n        }\n    };\n\n    return new Response(JSON.stringify(data, null, 2), {\n        headers: {\n            \"content-type\": \"application/json;charset=UTF-8\",\n            \"access-control-allow-origin\": \"*\"\n        }\n    });\n}\n\n/**\n * \u5904\u7406 AI \u5206\u6790\u8BF7\u6C42\n */\nasync function handleAIAnalyze(request, env) {\n  try {\n    const userInfo = await request.json();\n    const apiKey = env.ZHIPU_API_KEY;\n\n    if (!apiKey) {\n      return new Response(\"\u670D\u52A1\u5668\u672A\u914D\u7F6E ZHIPU_API_KEY\uFF0C\u65E0\u6CD5\u8FDB\u884CAI\u5206\u6790\u3002\", { status: 500 });\n    }\n\n    const zhipuRequest = {\n      model: \"GLM-4-Flash-250414\",\n      messages: [\n        {\n          role: \"user\",\n          content: `\u4F60\u662F\u4E00\u4E2A\u975E\u5E38\u201C\u6709\u6897\u201D\u7684\u7F51\u7EDC\u5206\u6790\u52A9\u624B\u3002\u8BF7\u6839\u636E\u4EE5\u4E0BJSON\u4FE1\u606F\uFF0C\u7528\u901A\u4FD7\u6613\u61C2\u3001\u6781\u5176\u4FCF\u76AE\u7684\u8BED\u8A00\uFF0C\u5BF9\u7528\u6237\u7684\u7F51\u7EDC\u60C5\u51B5\u8FDB\u884C\u4E00\u6BB5\u7B80\u77ED\u7684\u5206\u6790\u548C\u603B\u7ED3\u3002\n          \u4F60\u7684\u5206\u6790\u8981\u201C\u6709\u6001\u5EA6\u201D\uFF0C\u53EF\u4EE5\u6839\u636E\u7528\u6237\u7684\u8FD0\u8425\u5546\uFF08ISP\uFF09\u7ED9\u51FA\u4E00\u4E9B\u6709\u8DA3\u7684\u5410\u69FD\u3002\u4E0D\u8981\u4F7F\u7528markdown\u8BED\u6CD5\u3002\n          \u4FE1\u606F\u5982\u4E0B\uFF1A\\n\\n${JSON.stringify(userInfo, null, 2)}`\n        }\n      ],\n      stream: true,\n      temperature: 1.0,\n    };\n\n    const zhipuResponse = await fetch(\"https://open.bigmodel.cn/api/paas/v4/chat/completions\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${apiKey}`\n      },\n      body: JSON.stringify(zhipuRequest)\n    });\n\n    if (!zhipuResponse.ok) {\n        const errorText = await zhipuResponse.text();\n        throw new Error(`\u667A\u8C31AI API \u8BF7\u6C42\u5931\u8D25: ${zhipuResponse.status} ${errorText}`);\n    }\n\n    // \u521B\u5EFA\u6D41\u5F0F\u54CD\u5E94\n    const {readable, writable} = new TransformStream();\n    const writer = writable.getWriter();\n    const reader = zhipuResponse.body.getReader();\n    const decoder = new TextDecoder();\n    const encoder = new TextEncoder();\n\n    (async () => {\n      let buffer = '';\n      try {\n        while (true) {\n          const { done, value } = await reader.read();\n          if (done) break;\n\n          buffer += decoder.decode(value, { stream: true });\n          let boundary;\n          while ((boundary = buffer.indexOf('\\n')) !== -1) {\n            const line = buffer.substring(0, boundary).trim();\n            buffer = buffer.substring(boundary + 1);\n\n            if (line.startsWith('data: ')) {\n              const jsonStr = line.substring(6);\n              if (jsonStr.trim() === '[DONE]') continue;\n              try {\n                const data = JSON.parse(jsonStr);\n                const content = data.choices[0]?.delta?.content || \"\";\n                if (content) {\n                  await writer.write(encoder.encode(content));\n                }\n              } catch (e) {\n                console.error(\"JSON parse error:\", e);\n              }\n            }\n          }\n        }\n      } catch (error) {\n        console.error('Error processing stream:', error);\n        await writer.abort(error);\n      } finally {\n        await writer.close();\n      }\n    })();\n\n    return new Response(readable, {\n      headers: { \"Content-Type\": \"text/html; charset=utf-8\" }\n    });\n\n  } catch (error) {\n    return new Response(error.message, { status: 500 });\n  }\n}\n\n/**\n * \u5904\u7406 Ping \u8BF7\u6C42\n */\nfunction handlePing() {\n  return new Response(\"pong\", {\n    headers: { \n        \"content-type\": \"text/plain\",\n        \"cache-control\": \"no-store, no-cache, must-revalidate, proxy-revalidate\",\n        \"access-control-allow-origin\": \"*\"\n    },\n  });\n}\n\n// =========================================\n//            \u9875\u9762\u6E32\u67D3\u903B\u8F91\n// =========================================\n\n/**\n * \u6E32\u67D3\u4E3B HTML \u9875\u9762\n */\nfunction renderHTML(request) {\n    const cf = request.cf || {};\n    const rawIsp = cf.asOrganization || \"\";\n    const asn = cf.asn || 0;\n    const city = cf.city || \"\u5730\u7403\u67D0\u5904\";\n    const region = cf.region || \"\";\n    const ip = request.headers.get(\"CF-Connecting-IP\") || \"0.0.0.0\";\n    const colo = cf.colo || \"UNK\";\n    const nodeInfo = translateColo(colo);\n    \n    let coloHtml = nodeInfo.name;\n    if (nodeInfo.iso) {\n        coloHtml = `<img src=\"https://flagcdn.com/w40/${nodeInfo.iso}.png\" class=\"flag-img\" alt=\"${nodeInfo.iso}\"> ${nodeInfo.name} <span style=\"opacity:0.6\">(${colo})</span>`;\n    } else {\n        coloHtml = `${nodeInfo.name} <span style=\"opacity:0.6\">(${colo})</span>`;\n    }\n\n    // \u521D\u59CB RTT \u8BA1\u7B97\u4E0E\u5C55\u793A\n    let rtt = Number(cf.clientTcpRtt) || 0;\n    let rttDisplay = rtt + \" ms\";\n    let rttColor = \"#10b981\"; \n    let isHttp3 = false;\n\n    if (rtt === 0) {\n        isHttp3 = true;\n        rttDisplay = `<span class=\"blink\">\u6D4B\u901F\u4E2D...</span>`; \n    } else {\n        if (rtt > 350) rttColor = \"#ef4444\";      \n        else if (rtt > 150) rttColor = \"#f59e0b\"; \n    }\n\n    const ispInfo = identifyISP(rawIsp, asn);\n    const locationStr = [city, region].filter(Boolean).join(\", \");\n\n    // \u8FD4\u56DE\u5B8C\u6574\u7684 HTML \u5B57\u7B26\u4E32\n    return new Response(`\n    <!DOCTYPE html>\n    <html lang=\"zh-CN\">\n    <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>\u8BA9\u6211\u770B\u770B\u4F60\u7684\u7F51\uFF01</title>\n        <link rel=\"icon\" href=\"https://imgbed.haokun.me/file/1768399588443_00007.png\">\n        <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css\">\n        <style>\n            :root {\n                --primary-color: #2b5876;\n                --text-main: #333;\n                --text-sub: #666;\n                --bg-glass: rgba(255, 255, 255, 0.1);\n                --border-glass: rgba(255, 255, 255, 0.6);\n            }\n            * { margin: 0; padding: 0; box-sizing: border-box; }\n            body {\n                font-family: -apple-system, BlinkMacSystemFont, \"PingFang SC\", \"Microsoft YaHei\", \"Segoe UI\", Roboto, sans-serif;\n                min-height: 100vh;\n                display: flex;\n                justify-content: center;\n                align-items: flex-start;\n                background: url('https://elaina.haokun.me/') no-repeat center center fixed;\n                background-size: cover;\n                padding: 2rem 1rem;\n                color: #555;\n            }\n            .decoration { position: absolute; border-radius: 50%; filter: blur(40px); z-index: 0; animation: float 6s ease-in-out infinite; }\n            .circle-1 { width: 200px; height: 200px; background: rgba(255, 255, 255, 0.2); top: 10%; left: 20%; }\n            .circle-2 { width: 300px; height: 300px; background: rgba(161, 239, 255, 0.2); bottom: 10%; right: 15%; animation-delay: -3s; }\n            \n            .card {\n                position: relative; z-index: 1;\n                background: var(--bg-glass);\n                backdrop-filter: blur(7px); -webkit-backdrop-filter: blur(25px);\n                border: 1px solid var(--border-glass);\n                padding: 2.5rem 2rem; border-radius: 24px;\n                box-shadow: 0 15px 50px 0 rgba(0, 0, 0, 0.2);\n                text-align: center; width: 480px; max-width: 100%;\n                margin: 0;\n                animation: fadeIn 0.8s ease-out;\n            }\n            h1 { font-size: 1.4rem; color: var(--text-main); margin-bottom: 0.5rem; }\n            \n            .isp-tag {\n                display: inline-block; color: ${ispInfo.color}; background: ${ispInfo.bg};\n                padding: 4px 12px; border-radius: 8px; font-family: monospace;\n                font-size: 1.3em; font-weight: 800; margin-top: 5px;\n                border: 1px solid ${ispInfo.color}20;\n            }\n            \n            .info-box {\n                margin: 20px 0; padding: 15px; background: rgba(255,255,255,0.5);\n                border-radius: 12px; font-size: 0.95rem; color: var(--text-sub);\n                line-height: 1.6; text-align: left; border: 1px solid rgba(255,255,255,0.4);\n            }\n            .info-row { \n                display: flex; justify-content: space-between; align-items: center;\n                border-bottom: 1px dashed #cbd5e1; padding-bottom: 8px; margin-bottom: 8px; \n            }\n            .info-row:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }\n            .label { font-weight: bold; color: #57606f; white-space: nowrap; margin-right: 15px; flex-shrink: 0; }\n            .value { font-family: monospace; color: var(--text-main); text-align: right; word-break: break-word; display: flex; align-items: center; justify-content: flex-end; }\n            .flag-img { width: 20px; height: auto; margin-right: 6px; border-radius: 2px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); vertical-align: middle; }\n            .status-dot { display: inline-block; width: 8px; height: 8px; border-radius: 50%; background-color: ${rttColor}; margin-right: 6px; transition: background-color 0.3s; }\n            \n            .btn {\n                display: inline-block; padding: 12px 24px;\n                background: linear-gradient(135deg, #2b5876 0%, #4e4376 100%);\n                color: white; border-radius: 50px; text-decoration: none; font-weight: bold;\n                box-shadow: 0 4px 15px rgba(43, 88, 118, 0.35); transition: 0.3s;\n                margin-top: 10px; border: none; cursor: pointer;\n            }\n            .btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(43, 88, 118, 0.5); }\n            \n            .ai-result {\n                margin-top: 20px; padding: 15px;\n                background: rgba(230, 245, 230, 0.7); border-radius: 12px;\n                text-align: left; font-size: 0.9em; line-height: 1.6;\n                color: var(--text-main); border: 1px solid #a8e063; animation: fadeIn 0.5s ease-out;\n            }\n            .ai-result .loading { color: #555; text-align: center; animation: jump 1s ease-in-out infinite; }\n            .ai-result .error { color: #d9534f; font-weight: bold; }\n            .signature-img { margin-top: 20px; max-width: 100%; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); display: block; margin-left: auto; margin-right: auto; }\n            .blink { animation: blinker 1.5s linear infinite; }\n            \n            /* Canvas & Switcher */\n            .chart-wrapper { margin-top: 10px; padding-top: 10px; border-top: 1px dashed #cbd5e1; position: relative; }\n            .chart-header {\n                display: flex; justify-content: space-between; align-items: center;\n                font-size: 0.85em; color: #777; margin-bottom: 5px;\n            }\n            .chart-container {\n                width: 100%; height: 90px; \n                background: rgba(255,255,255,0.3); border-radius: 8px;\n                position: relative; overflow: hidden;\n                border: 1px solid rgba(255,255,255,0.2);\n            }\n            canvas { width: 100%; height: 100%; display: block; }\n            \n            .expand-btn {\n                position: absolute; top: 4px; right: 4px; width: 22px; height: 22px;\n                background: rgba(255,255,255,0.5); backdrop-filter: blur(2px);\n                border-radius: 4px; cursor: pointer;\n                display: flex; align-items: center; justify-content: center;\n                z-index: 10; transition: all 0.1s cubic-bezier(0.4, 0, 0.2, 1); color: #666;\n            }\n            .expand-btn:hover { background: #fff; transform: scale(1.1); color: var(--primary-color); box-shadow: 0 2px 5px rgba(0,0,0,0.1); }\n            .expand-btn:active { transform: scale(0.9); background: rgba(255,255,255,0.9); }\n            .expand-btn svg { width: 14px; height: 14px; fill: currentColor; }\n\n            /* Modal */\n            .modal-overlay {\n                position: fixed; top: 0; left: 0; width: 100%; height: 100%;\n                background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(5px);\n                z-index: 9999; \n                display: flex; align-items: center; justify-content: center;\n                opacity: 0; visibility: hidden; pointer-events: none;\n                transition: opacity 0.3s ease, visibility 0.3s ease;\n            }\n            .modal-overlay.active { opacity: 1; visibility: visible; pointer-events: auto; }\n            \n            .modal-content {\n                background: #fff; width: 90%; max-width: 900px; max-height: 85vh; height: 600px;\n                border-radius: 16px; padding: 20px; position: relative;\n                box-shadow: 0 20px 60px rgba(0,0,0,0.3);\n                display: flex; flex-direction: column;\n                transform: scale(0.8); opacity: 0;\n                transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.3s ease;\n            }\n            .modal-overlay.active .modal-content { transform: scale(1); opacity: 1; }\n            \n            .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 10px; flex-shrink: 0; }\n            .modal-title { font-size: 1.2rem; font-weight: bold; color: var(--text-main); }\n            .modal-close { cursor: pointer; font-size: 1.5rem; color: #999; line-height: 1; padding: 0 10px; transition: color 0.2s; }\n            .modal-close:hover { color: #ef4444; }\n            \n            .modal-chart-box { flex: 1; width: 100%; position: relative; background: #f9f9f9; border-radius: 8px; border: 1px solid #eee; min-height: 0; margin-bottom: 10px; display: flex; }\n            .modal-stats { display: flex; gap: 20px; font-size: 0.9rem; color: var(--text-sub); flex-shrink: 0; padding-top: 5px; border-top: 1px dashed #eee; }\n            .stat-item b { font-family: monospace; color: var(--primary-color); }\n\n            /* Switch */\n            .switch-container {\n                display: flex; align-items: center; justify-content: space-between;\n                background: rgba(255, 255, 255, 0.4); border-radius: 20px;\n                padding: 3px; margin-bottom: 8px; position: relative;\n                border: 1px solid rgba(255,255,255,0.3); height: 32px; flex-shrink: 0;\n            }\n            .modal-content .switch-container { background: #f0f2f5; border: 1px solid #e1e4e8; margin-bottom: 15px; }\n            .switch-option {\n                flex: 1; text-align: center; z-index: 2; cursor: pointer;\n                font-size: 0.75rem; color: var(--text-sub); font-weight: 600;\n                transition: color 0.3s, transform 0.1s ease; user-select: none; line-height: 26px;\n                display: flex; align-items: center; justify-content: center;\n            }\n            .switch-option i {\n                font-size: 14px;\n            }\n            .switch-option:active { transform: scale(0.9); }\n            .switch-input { display: none; }\n            .switch-glider {\n                position: absolute; top: 3px; left: 3px; height: calc(100% - 6px);\n                width: calc((100% - 6px) / 7); background: #fff; border-radius: 16px;\n                transition: transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);\n                z-index: 1; box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n            }\n\n            /* Switch Logic */\n            #s-opt-1:checked ~ .switch-glider { transform: translateX(0%); }\n            #s-opt-2:checked ~ .switch-glider { transform: translateX(100%); }\n            #s-opt-3:checked ~ .switch-glider { transform: translateX(200%); }\n            #s-opt-4:checked ~ .switch-glider { transform: translateX(300%); }\n            #s-opt-5:checked ~ .switch-glider { transform: translateX(400%); }\n            #s-opt-6:checked ~ .switch-glider { transform: translateX(500%); }\n            #s-opt-7:checked ~ .switch-glider { transform: translateX(600%); }\n            \n            #m-opt-1:checked ~ .switch-glider { transform: translateX(0%); }\n            #m-opt-2:checked ~ .switch-glider { transform: translateX(100%); }\n            #m-opt-3:checked ~ .switch-glider { transform: translateX(200%); }\n            #m-opt-4:checked ~ .switch-glider { transform: translateX(300%); }\n            #m-opt-5:checked ~ .switch-glider { transform: translateX(400%); }\n            #m-opt-6:checked ~ .switch-glider { transform: translateX(500%); }\n            #m-opt-7:checked ~ .switch-glider { transform: translateX(600%); }\n\n            input:checked + label { color: var(--primary-color); }\n            input:checked + label[for$=\"-2\"] { color: #E3007F; }\n            input:checked + label[for$=\"-3\"] { color: #0078D4; }\n            input:checked + label[for$=\"-4\"] { color: #1a1f71; }\n            input:checked + label[for$=\"-5\"] { color: #4285F4; }\n            input:checked + label[for$=\"-6\"] { color: #171a21; } /* Steam Black/Blue */\n            input:checked + label[for$=\"-7\"] { color: #F38020; } /* Cloudflare Orange */\n\n            @keyframes blinker { 50% { opacity: 0.5; } }\n            @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-20px); } 100% { transform: translateY(0px); } }\n            @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }\n            @keyframes jump { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-4px); } }\n        </style>\n    </head>\n    <body>\n        <div class=\"decoration circle-1\"></div>\n        <div class=\"decoration circle-2\"></div>\n        <div class=\"card\">\n            <h1>\u5F53\u524D\u6D41\u91CF\u6765\u6E90</h1>\n            <div class=\"isp-tag\">${ispInfo.name}</div>\n            <div class=\"info-box\">\n                <div class=\"info-row\"><span class=\"label\">\u5F53\u524D\u8FDE\u63A5\u4F7F\u7528\u7684IP</span> <span class=\"value\">${ip}</span></div>\n                <div class=\"info-row\"><span class=\"label\">IPv4 \u5730\u5740</span> <span class=\"value\" id=\"ipv4-addr\"><span class=\"blink\">\u67E5\u8BE2\u4E2D...</span></span></div>\n                <div class=\"info-row\"><span class=\"label\">IPv6 \u5730\u5740</span> <span class=\"value\" id=\"ipv6-addr\"><span class=\"blink\">\u67E5\u8BE2\u4E2D...</span></span></div>\n                <div class=\"info-row\"><span class=\"label\">CF\u5F52\u5C5E\u5730</span> <span class=\"value\">${locationStr}</span></div>\n                <div class=\"info-row\"><span class=\"label\">API\u5F52\u5C5E\u5730 (IPv4)</span> <span class=\"value\" id=\"ext-loc\">\u67E5\u8BE2\u4E2D...</span></div>\n                \n                <div class=\"info-row\">\n                    <span class=\"label\">\u8FDE\u63A5\u5EF6\u8FDF (\u63E1\u624B)</span> \n                    <span class=\"value\" style=\"color:${rttColor}; font-weight:bold;\" id=\"rtt-value\">\n                        <span class=\"status-dot\" id=\"rtt-dot\"></span>${rttDisplay}\n                    </span>\n                </div>\n\n                <div class=\"chart-wrapper\">\n                    <div class=\"switch-container\">\n                        <input type=\"radio\" id=\"s-opt-1\" name=\"switch\" class=\"switch-input\" checked onchange=\"changePingTarget(1)\">\n                        <label for=\"s-opt-1\" class=\"switch-option\" title=\"\u672C\u7AD9\">\n                            <i class=\"fa-solid fa-house\"></i>\n                        </label>\n                        <input type=\"radio\" id=\"s-opt-2\" name=\"switch\" class=\"switch-input\" onchange=\"changePingTarget(2)\">\n                        <label for=\"s-opt-2\" class=\"switch-option\" title=\"Bilibili\">\n                            <i class=\"fa-brands fa-bilibili\"></i>\n                        </label>\n                        <input type=\"radio\" id=\"s-opt-3\" name=\"switch\" class=\"switch-input\" onchange=\"changePingTarget(3)\">\n                        <label for=\"s-opt-3\" class=\"switch-option\" title=\"Microsoft\">\n                            <i class=\"fa-brands fa-microsoft\"></i>\n                        </label>\n                        <input type=\"radio\" id=\"s-opt-4\" name=\"switch\" class=\"switch-input\" onchange=\"changePingTarget(4)\">\n                        <label for=\"s-opt-4\" class=\"switch-option\" title=\"Visa\">\n                            <i class=\"fa-brands fa-cc-visa\"></i>\n                        </label>\n                        <input type=\"radio\" id=\"s-opt-5\" name=\"switch\" class=\"switch-input\" onchange=\"changePingTarget(5)\">\n                        <label for=\"s-opt-5\" class=\"switch-option\" title=\"Google\">\n                            <i class=\"fa-brands fa-google\"></i>\n                        </label>\n                        <input type=\"radio\" id=\"s-opt-6\" name=\"switch\" class=\"switch-input\" onchange=\"changePingTarget(6)\">\n                        <label for=\"s-opt-6\" class=\"switch-option\" title=\"Steam\">\n                            <i class=\"fa-brands fa-steam\"></i>\n                        </label>\n                        <input type=\"radio\" id=\"s-opt-7\" name=\"switch\" class=\"switch-input\" onchange=\"changePingTarget(7)\">\n                        <label for=\"s-opt-7\" class=\"switch-option\" title=\"Cloudflare\">\n                            <i class=\"fa-brands fa-cloudflare\"></i>\n                        </label>\n                        <div class=\"switch-glider\"></div>\n                    </div>\n\n                    <div class=\"chart-header\">\n                        <span id=\"ping-target-name\">\u7F51\u7EDC\u771F\u8FDE\u63A5\u8FDE\u901A\u6027 (\u672C\u7AD9)</span>\n                        <span id=\"rt-ping-value\" style=\"font-family:monospace; font-weight:bold;\">-- ms</span>\n                    </div>\n                    \n                    <div class=\"chart-container\">\n                        <div class=\"expand-btn\" onclick=\"openModal()\" title=\"\u653E\u5927\u67E5\u770B\u8BE6\u7EC6\u5386\u53F2\">\n                            <svg viewBox=\"0 0 24 24\"><path d=\"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zM9 21l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zM21 15l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z\"/></svg>\n                        </div>\n                        <canvas id=\"ping-chart\"></canvas>\n                    </div>\n                </div>\n\n                <div class=\"info-row\" style=\"margin-top:8px\"><span class=\"label\">\u63A5\u5165\u8282\u70B9</span> <span class=\"value\">${coloHtml}</span></div>\n                <div class=\"info-row\"><span class=\"label\">ASN\u7F16\u7801</span> <span class=\"value\">AS${asn}</span></div>\n                <div class=\"info-row\"><span class=\"label\">\u539F\u59CBISP</span> <span class=\"value\" style=\"font-size:0.9em\">${rawIsp}</span></div>\n            </div>\n            <a href=\"https://blog.haokun.me\" class=\"btn\">\u524D\u5F80\u535A\u5BA2</a>\n            <div id=\"ai-result-container\" class=\"ai-result\">\n                <p class=\"loading\">\uD83E\uDD16 AI \u6B63\u5728\u5206\u6790\u60A8\u7684\u7F51\u7EDC...</p>\n            </div>\n            <img src=\"https://tool.lu/netcard/\" class=\"signature-img\" alt=\"IP Signature\">\n        </div>\n\n        <div class=\"modal-overlay\" id=\"chart-modal\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <div class=\"modal-title\" id=\"modal-title-text\">\u8BE6\u7EC6\u5EF6\u8FDF\u5386\u53F2\u8BB0\u5F55</div>\n                    <div class=\"modal-close\" onclick=\"closeModal()\">\u00D7</div>\n                </div>\n                \n                <div class=\"switch-container\">\n                    <input type=\"radio\" id=\"m-opt-1\" name=\"modal-switch\" class=\"switch-input\" checked onchange=\"changePingTarget(1)\">\n                    <label for=\"m-opt-1\" class=\"switch-option\">\u672C\u7AD9</label>\n                    <input type=\"radio\" id=\"m-opt-2\" name=\"modal-switch\" class=\"switch-input\" onchange=\"changePingTarget(2)\">\n                    <label for=\"m-opt-2\" class=\"switch-option\">Bilibili</label>\n                    <input type=\"radio\" id=\"m-opt-3\" name=\"modal-switch\" class=\"switch-input\" onchange=\"changePingTarget(3)\">\n                    <label for=\"m-opt-3\" class=\"switch-option\">Msft</label>\n                    <input type=\"radio\" id=\"m-opt-4\" name=\"modal-switch\" class=\"switch-input\" onchange=\"changePingTarget(4)\">\n                    <label for=\"m-opt-4\" class=\"switch-option\">Visa</label>\n                    <input type=\"radio\" id=\"m-opt-5\" name=\"modal-switch\" class=\"switch-input\" onchange=\"changePingTarget(5)\">\n                    <label for=\"m-opt-5\" class=\"switch-option\">Google</label>\n                    <input type=\"radio\" id=\"m-opt-6\" name=\"modal-switch\" class=\"switch-input\" onchange=\"changePingTarget(6)\">\n                    <label for=\"m-opt-6\" class=\"switch-option\">Steam</label>\n                    <input type=\"radio\" id=\"m-opt-7\" name=\"modal-switch\" class=\"switch-input\" onchange=\"changePingTarget(7)\">\n                    <label for=\"m-opt-7\" class=\"switch-option\">Cloudflare</label>\n                    <div class=\"switch-glider\"></div>\n                </div>\n\n                <div class=\"modal-chart-box\">\n                    <canvas id=\"large-ping-chart\"></canvas>\n                </div>\n                <div class=\"modal-stats\">\n                    <div class=\"stat-item\">\u5F53\u524D: <b id=\"stat-curr\">--</b> ms</div>\n                    <div class=\"stat-item\">\u5E73\u5747: <b id=\"stat-avg\">--</b> ms</div>\n                    <div class=\"stat-item\">\u6700\u5927: <b id=\"stat-max\">--</b> ms</div>\n                    <div class=\"stat-item\">\u6700\u5C0F: <b id=\"stat-min\">--</b> ms</div>\n                    <div class=\"stat-item\">\u6296\u52A8: <b id=\"stat-jitter\">--</b> ms</div>\n                    <div class=\"stat-item\" style=\"margin-left:auto; font-size:0.8em; opacity:0.7\">\u663E\u793A\u6700\u8FD1 200 \u6B21\u8BB0\u5F55</div>\n                </div>\n            </div>\n        </div>\n\n        <script>\n            // === 1. IP & Geo ===\n            async function fetchIpDetails() {\n                fetch('https://ipv6.icanhazip.com').then(res => res.text()).then(ipv6 => {\n                    document.getElementById('ipv6-addr').innerText = ipv6.trim();\n                }).catch(() => {\n                    document.getElementById('ipv6-addr').innerText = '\u4E0D\u53EF\u7528';\n                });\n\n                fetch('https://ipv4.icanhazip.com').then(res => res.text()).then(ipv4 => {\n                    const cleanIpv4 = ipv4.trim();\n                    document.getElementById('ipv4-addr').innerText = cleanIpv4;\n                    return cleanIpv4;\n                }).then(ipv4 => {\n                    if (!ipv4) {\n                        document.getElementById('ext-loc').innerText = '\u67E5\u8BE2\u5931\u8D25';\n                        startAiAnalysis();\n                        return;\n                    }\n                    fetch(\\`https://ipapi.co/\\${ipv4}/json/\\`)\n                        .then(r => r.json())\n                        .then(d => {\n                            const loc = [d.city, d.region, d.country_name].filter(Boolean).join(', ');\n                            document.getElementById('ext-loc').innerText = loc || '\u672A\u77E5';\n                        })\n                        .catch(() => { document.getElementById('ext-loc').innerText = '\u67E5\u8BE2\u8D85\u65F6'; })\n                        .finally(() => { startAiAnalysis(); });\n                }).catch(() => {\n                    document.getElementById('ipv4-addr').innerText = '\u4E0D\u53EF\u7528';\n                    startAiAnalysis();\n                });\n            }\n            fetchIpDetails();\n\n            // === 2. Initial HTTP RTT ===\n            const isHttp3 = ${isHttp3}; \n            function updateConnectionRttUI(duration, note) {\n                const rttElem = document.getElementById('rtt-value');\n                let color = \"#10b981\";\n                if (duration > 350) color = \"#ef4444\";\n                else if (duration > 150) color = \"#f59e0b\";\n                \n                rttElem.innerHTML = '<span class=\"status-dot\" id=\"rtt-dot\"></span>' + duration + ' ms <span style=\"font-size:0.8em;opacity:0.7\">(' + note + ')</span>';\n                rttElem.style.color = color;\n                document.getElementById('rtt-dot').style.backgroundColor = color;\n            }\n\n            if (isHttp3) {\n                const pingUrl = window.location.pathname + '?act=ping&t=' + Date.now();\n                fetch(pingUrl).then(() => {\n                    const measureUrl = window.location.pathname + '?act=ping&t=' + (Date.now() + 1);\n                    const startTime = performance.now();\n                    fetch(measureUrl).then(() => {\n                        const endTime = performance.now();\n                        const entries = performance.getEntriesByName(measureUrl);\n                        let duration = 0;\n                        if (entries.length > 0) {\n                            const entry = entries[entries.length - 1];\n                            duration = Math.round(entry.responseStart - entry.requestStart);\n                        } else {\n                            duration = Math.round(endTime - startTime);\n                        }\n                        if (duration <= 0) duration = 1;\n                        updateConnectionRttUI(duration, \"HTTP/3\");\n                    });\n                });\n            }\n\n            // === 3. Real-time Ping Chart ===\n            const smallCanvas = document.getElementById('ping-chart');\n            const smallCtx = smallCanvas.getContext('2d');\n            const largeCanvas = document.getElementById('large-ping-chart');\n            const largeCtx = largeCanvas.getContext('2d');\n            const rtValueElem = document.getElementById('rt-ping-value');\n            const targetNameElem = document.getElementById('ping-target-name');\n            const modal = document.getElementById('chart-modal');\n            const modalTitle = document.getElementById('modal-title-text');\n            \n            const historyLimit = 200;\n            const smallViewLimit = 50;\n            let pingData = new Array(historyLimit).fill(0);\n            let pingInterval = null;\n            let isModalOpen = false;\n            \n            const pingTargets = {\n                1: { name: '\u672C\u7AD9', url: window.location.pathname + '?act=ping' },\n                2: { name: 'Bilibili', url: 'https://www.bilibili.com/favicon.ico' },\n                3: { name: 'Microsoft', url: 'https://www.microsoft.com/favicon.ico' },\n                4: { name: 'Visa', url: 'https://www.visa.cn/favicon.ico' },\n                5: { name: 'Google', url: 'https://www.google.com/favicon.ico' },\n                6: { name: 'Steam', url: 'https://store.steampowered.com/favicon.ico' },\n                7: { name: 'Cloudflare', url: 'https://www.cloudflare.com/favicon.ico' }\n            };\n            let currentTargetId = 1;\n\n            window.changePingTarget = function(id) {\n                currentTargetId = id;\n                const name = pingTargets[id].name;\n                targetNameElem.innerText = '\u7F51\u7EDC\u771F\u8FDE\u63A5\u8FDE\u901A\u6027 (' + name + ')';\n                modalTitle.innerText = name + ' - \u8BE6\u7EC6\u5EF6\u8FDF\u5386\u53F2';\n                document.getElementById('s-opt-' + id).checked = true;\n                document.getElementById('m-opt-' + id).checked = true;\n                pingData.fill(0);\n                rtValueElem.innerText = '-- ms';\n            }\n\n            // Debounce function\n            function debounce(func, wait) {\n                let timeout;\n                return function() {\n                    const context = this, args = arguments;\n                    clearTimeout(timeout);\n                    timeout = setTimeout(() => func.apply(context, args), wait);\n                };\n            }\n\n            function resizeCanvas(canvas, ctx) {\n                const dpr = window.devicePixelRatio || 1;\n                const w = canvas.parentElement.clientWidth;\n                const h = canvas.parentElement.clientHeight;\n                if (!w || !h) return;\n                canvas.width = w * dpr;\n                canvas.height = h * dpr;\n                ctx.scale(dpr, dpr);\n                canvas.style.width = w + 'px';\n                canvas.style.height = h + 'px';\n            }\n\n            window.openModal = function() {\n                modal.classList.add('active');\n                isModalOpen = true;\n                setTimeout(() => {\n                    resizeCanvas(largeCanvas, largeCtx);\n                    drawCharts(); \n                }, 50);\n            }\n            window.closeModal = function() {\n                modal.classList.remove('active');\n                isModalOpen = false;\n            }\n            \n            const handleResize = debounce(() => {\n                resizeCanvas(smallCanvas, smallCtx);\n                if (isModalOpen) resizeCanvas(largeCanvas, largeCtx);\n                drawCharts();\n            }, 200);\n            window.addEventListener('resize', handleResize);\n            \n            resizeCanvas(smallCanvas, smallCtx);\n\n            function renderLineChart(ctx, canvas, dataPoints, showGrid = false) {\n                const w = canvas.parentElement.clientWidth; \n                const h = canvas.parentElement.clientHeight;\n                ctx.clearRect(0, 0, w, h);\n                const validPoints = dataPoints.filter(p => p > 0);\n                let maxVal = Math.max(100, ...validPoints);\n                if (maxVal > 1000) maxVal = 2000; \n\n                if (showGrid) {\n                    ctx.beginPath();\n                    ctx.strokeStyle = 'rgba(0,0,0,0.05)';\n                    ctx.lineWidth = 1;\n                    for (let i = 1; i < 4; i++) {\n                        const y = h - (i * 0.25 * h);\n                        ctx.moveTo(0, y);\n                        ctx.lineTo(w, y);\n                    }\n                    ctx.stroke();\n                }\n\n                const count = dataPoints.length;\n                const stepX = w / (count - 1);\n                ctx.beginPath();\n                for (let i = 0; i < count; i++) {\n                    const val = dataPoints[i];\n                    const x = i * stepX;\n                    const y = h - (val / maxVal) * (h * 0.85); \n                    if (i === 0) ctx.moveTo(x, y);\n                    else ctx.lineTo(x, y);\n                }\n                ctx.lineJoin = 'round';\n                ctx.lineWidth = 2;\n                ctx.strokeStyle = '#2b5876'; \n                ctx.stroke();\n\n                ctx.lineTo(w, h);\n                ctx.lineTo(0, h);\n                ctx.closePath();\n                const grad = ctx.createLinearGradient(0, 0, 0, h);\n                grad.addColorStop(0, 'rgba(43, 88, 118, 0.4)');\n                grad.addColorStop(1, 'rgba(43, 88, 118, 0.0)');\n                ctx.fillStyle = grad;\n                ctx.fill();\n            }\n\n            function updateStats(lastVal) {\n                const valid = pingData.filter(x => x > 0);\n                if (valid.length === 0) return;\n                const min = Math.min(...valid);\n                const max = Math.max(...valid);\n                const avg = Math.round(valid.reduce((a,b)=>a+b,0) / valid.length);\n                let sumDiff = 0;\n                for (let i = 1; i < valid.length; i++) sumDiff += Math.abs(valid[i] - valid[i - 1]);\n                const jitter = valid.length > 1 ? Math.round(sumDiff / (valid.length - 1)) : 0;\n                document.getElementById('stat-curr').innerText = lastVal;\n                document.getElementById('stat-avg').innerText = avg;\n                document.getElementById('stat-max').innerText = max;\n                document.getElementById('stat-min').innerText = min;\n                document.getElementById('stat-jitter').innerText = jitter;\n            }\n\n            function drawCharts() {\n                const smallData = pingData.slice(-smallViewLimit);\n                renderLineChart(smallCtx, smallCanvas, smallData, false);\n                if (isModalOpen) renderLineChart(largeCtx, largeCanvas, pingData, true);\n            }\n\n            async function doRealTimePing() {\n                const start = performance.now();\n                const target = pingTargets[currentTargetId];\n                const separator = target.url.includes('?') ? '&' : '?';\n                const url = target.url + separator + 'ts=' + Date.now();\n                \n                let dur = 0;\n                try {\n                    const fetchOpts = { cache: 'no-store' };\n                    if (currentTargetId !== 1) fetchOpts.mode = 'no-cors';\n                    await fetch(url, fetchOpts);\n                    dur = Math.round(performance.now() - start);\n                    \n                    if (dur > 300) rtValueElem.style.color = '#ef4444';\n                    else if (dur > 150) rtValueElem.style.color = '#f59e0b';\n                    else rtValueElem.style.color = '#10b981';\n                } catch (e) {\n                    dur = 0; \n                    rtValueElem.style.color = '#aaa';\n                }\n\n                pingData.shift();\n                pingData.push(dur);\n                rtValueElem.innerText = (dur > 0 ? dur : '\u8D85\u65F6') + ' ms';\n                if (isModalOpen) updateStats(dur);\n                requestAnimationFrame(drawCharts);\n            }\n\n            function startMonitor() {\n                if (pingInterval) clearInterval(pingInterval);\n                doRealTimePing(); \n                pingInterval = setInterval(doRealTimePing, 1000); \n            }\n            function stopMonitor() {\n                if (pingInterval) { clearInterval(pingInterval); pingInterval = null; }\n            }\n            document.addEventListener('visibilitychange', () => {\n                if (document.hidden) stopMonitor(); else startMonitor();\n            });\n            startMonitor();\n            \n            // === 4. AI Analysis ===\n            async function startAiAnalysis() {\n                const aiResultContainer = document.getElementById('ai-result-container');\n                const p = aiResultContainer.querySelector('p'); \n                let isFirstChunk = true;\n\n                try {\n                    const userInfo = {\n                        connection_ip: '${ip}',\n                        ipv4_address: document.getElementById('ipv4-addr').innerText,\n                        ipv6_address: document.getElementById('ipv6-addr').innerText,\n                        isp: '${ispInfo.name}',\n                        cf_location: '${locationStr}',\n                        api_location: document.getElementById('ext-loc').innerText,\n                        latency: document.getElementById('rtt-value').innerText.replace(/<[^>]*>/g, '').trim(),\n                        node: '${nodeInfo.name} (${colo})'\n                    };\n                    const response = await fetch(window.location.pathname + '?act=analyze', {\n                        method: 'POST',\n                        headers: { 'Content-Type': 'application/json' },\n                        body: JSON.stringify(userInfo)\n                    });\n                    \n                    if (!response.ok) {\n                        const errText = await response.text();\n                        // \u5C1D\u8BD5\u89E3\u6790 JSON \u9519\u8BEF\n                        try {\n                           const jsonErr = JSON.parse(errText);\n                           throw new Error(jsonErr.error || errText);\n                        } catch(e) {\n                           throw new Error(errText || \\`\u670D\u52A1\u5668\u9519\u8BEF: \\${response.status}\\`);\n                        }\n                    }\n                    \n                    const reader = response.body.getReader();\n                    const decoder = new TextDecoder();\n                    while (true) {\n                        const { done, value } = await reader.read();\n                        if (done) break;\n                        const chunk = decoder.decode(value, { stream: true });\n                        const formattedChunk = chunk.replace(/\\\\n/g, '<br>');\n\n                        if (isFirstChunk && /[\\u4e00-\\u9fa5]/.test(chunk)) {\n                            p.classList.remove('loading');\n                            p.innerHTML = formattedChunk;\n                            isFirstChunk = false;\n                        } else if (!isFirstChunk) {\n                            p.innerHTML += formattedChunk;\n                        }\n                    }\n                } catch (error) {\n                    p.classList.remove('loading');\n                    p.innerHTML = '<span class=\"error\">\u5206\u6790\u5931\u8D25\uFF1A' + error.message + '</span>';\n                }\n            }\n        </script>\n    </body>\n    </html>\n    `, {\n      headers: { \"content-type\": \"text/html;charset=UTF-8\" },\n    });\n}\n\n// =========================================\n//            \u8F85\u52A9\u5DE5\u5177\u51FD\u6570\n// =========================================\n\nfunction identifyISP(rawIsp, asn) {\n    const isp = rawIsp.toLowerCase();\n    \n    // \u9ED8\u8BA4\u6837\u5F0F\n    let result = { name: rawIsp || \"\u672A\u77E5\u7F51\u7EDC\", color: \"#555555\", bg: \"rgba(85, 85, 85, 0.1)\" };\n\n    // 1. \u4E2D\u56FD\u5927\u9646\n    if (isp.includes(\"chinanet\") || isp.includes(\"telecom\")) \n        return { name: \"\u4E2D\u56FD\u7535\u4FE1\", color: \"#0066CC\", bg: \"rgba(0, 102, 204, 0.1)\" };\n    if (isp.includes(\"unicom\")) \n        return { name: \"\u4E2D\u56FD\u8054\u901A\", color: \"#E60012\", bg: \"rgba(230, 0, 18, 0.1)\" };\n    if (isp.includes(\"mobile\") || isp.includes(\"cmcc\") || isp.includes(\"tietong\")) \n        return { name: \"\u4E2D\u56FD\u79FB\u52A8\", color: \"#0085D0\", bg: \"rgba(0, 133, 208, 0.1)\" };\n    if (isp.includes(\"broadnet\") || isp.includes(\"cable\") || isp.includes(\"gehua\")) \n        return { name: \"\u4E2D\u56FD\u5E7F\u7535\", color: \"#7CB342\", bg: \"rgba(124, 179, 66, 0.15)\" };\n    if (isp.includes(\"cernet\")) \n        return { name: \"\u4E2D\u56FD\u6559\u80B2\u7F51\", color: \"#00A0E9\", bg: \"rgba(0, 160, 233, 0.1)\" };\n    if (isp.includes(\"dr.peng\") || isp.includes(\"great wall\")) \n        return { name: \"\u957F\u57CE/\u9E4F\u535A\u58EB\", color: \"#E85928\", bg: \"rgba(232, 89, 40, 0.1)\" };\n\n    // 2. \u6E2F\u6FB3\u53F0\n    if (isp.includes(\"hkt\") || isp.includes(\"pccw\")) \n        return { name: \"HKT (\u9999\u6E2F\u7535\u8BAF)\", color: \"#00539F\", bg: \"rgba(0, 83, 159, 0.1)\" };\n    if (isp.includes(\"hkbn\")) \n        return { name: \"HKBN (\u9999\u6E2F\u5BBD\u9891)\", color: \"#743C8F\", bg: \"rgba(116, 60, 143, 0.1)\" };\n    if (isp.includes(\"hgc\")) \n        return { name: \"HGC\", color: \"#E3007F\", bg: \"rgba(227, 0, 127, 0.1)\" };\n    if (isp.includes(\"cmhk\")) \n        return { name: \"CMHK\", color: \"#0085D0\", bg: \"rgba(0, 133, 208, 0.1)\" };\n    if (isp.includes(\"ctm\")) \n        return { name: \"CTM (\u6FB3\u95E8\u7535\u8BAF)\", color: \"#00A651\", bg: \"rgba(0, 166, 81, 0.1)\" };\n    if (isp.includes(\"chunghwa\") || isp.includes(\"hinet\")) \n        return { name: \"\u4E2D\u534E\u7535\u4FE1 (HiNet)\", color: \"#2E57A6\", bg: \"rgba(46, 87, 166, 0.1)\" };\n\n    // 3. \u4E91\u5382\u5546\n    if (isp.includes(\"alibaba\") || isp.includes(\"aliyun\")) \n        return { name: \"\u963F\u91CC\u4E91\", color: \"#FF6A00\", bg: \"rgba(255, 106, 0, 0.1)\" };\n    if (isp.includes(\"tencent\")) \n        return { name: \"\u817E\u8BAF\u4E91\", color: \"#0052D9\", bg: \"rgba(0, 82, 217, 0.1)\" };\n    if (isp.includes(\"huawei\")) \n        return { name: \"\u534E\u4E3A\u4E91\", color: \"#C7000B\", bg: \"rgba(199, 0, 11, 0.1)\" };\n    if (isp.includes(\"google\")) \n        return { name: \"Google Cloud\", color: \"#4285F4\", bg: \"rgba(66, 133, 244, 0.1)\" };\n    if (isp.includes(\"amazon\") || isp.includes(\"aws\")) \n        return { name: \"AWS\", color: \"#FF9900\", bg: \"rgba(255, 153, 0, 0.1)\" };\n    if (isp.includes(\"microsoft\") || isp.includes(\"azure\")) \n        return { name: \"Microsoft Azure\", color: \"#0078D4\", bg: \"rgba(0, 120, 212, 0.1)\" };\n    if (isp.includes(\"oracle\")) \n        return { name: \"Oracle Cloud\", color: \"#C74634\", bg: \"rgba(199, 70, 52, 0.1)\" };\n    if (isp.includes(\"digitalocean\")) \n        return { name: \"DigitalOcean\", color: \"#0080FF\", bg: \"rgba(0, 128, 255, 0.1)\" };\n    if (isp.includes(\"vultr\")) \n        return { name: \"Vultr\", color: \"#0057E7\", bg: \"rgba(0, 87, 231, 0.1)\" };\n    if (isp.includes(\"linode\")) \n        return { name: \"Linode\", color: \"#02B159\", bg: \"rgba(2, 177, 89, 0.1)\" };\n    if (isp.includes(\"cloudflare\")) \n        return { name: \"Cloudflare WARP\", color: \"#F38020\", bg: \"rgba(243, 128, 32, 0.1)\" };\n\n    return result;\n}\n\nfunction translateColo(coloCode) {\n    const code = coloCode.toUpperCase();\n    const map = {\n        \"HKG\": { name: \"\u9999\u6E2F\", iso: \"hk\" },\n        \"TPE\": { name: \"\u53F0\u5317\", iso: \"tw\" },\n        \"NRT\": { name: \"\u4E1C\u4EAC\", iso: \"jp\" },\n        \"KIX\": { name: \"\u5927\u962A\", iso: \"jp\" },\n        \"ICN\": { name: \"\u9996\u5C14\", iso: \"kr\" },\n        \"SIN\": { name: \"\u65B0\u52A0\u5761\", iso: \"sg\" },\n        \"KUL\": { name: \"\u5409\u9686\u5761\", iso: \"my\" },\n        \"BKK\": { name: \"\u66FC\u8C37\", iso: \"th\" },\n        \"SGN\": { name: \"\u80E1\u5FD7\u660E\u5E02\", iso: \"vn\" },\n        \"MNL\": { name: \"\u9A6C\u5C3C\u62C9\", iso: \"ph\" },\n        \"LAX\": { name: \"\u6D1B\u6749\u77F6\", iso: \"us\" },\n        \"SJC\": { name: \"\u5723\u4F55\u585E\", iso: \"us\" },\n        \"SFO\": { name: \"\u65E7\u91D1\u5C71\", iso: \"us\" },\n        \"SEA\": { name: \"\u897F\u96C5\u56FE\", iso: \"us\" },\n        \"JFK\": { name: \"\u7EBD\u7EA6\", iso: \"us\" },\n        \"LHR\": { name: \"\u4F26\u6566\", iso: \"gb\" },\n        \"FRA\": { name: \"\u6CD5\u5170\u514B\u798F\", iso: \"de\" },\n        \"AMS\": { name: \"\u963F\u59C6\u65AF\u7279\u4E39\", iso: \"nl\" },\n        \"SYD\": { name: \"\u6089\u5C3C\", iso: \"au\" },\n    };\n    return map[code] || { name: code, iso: null };\n}", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"A:\\\\\u6587\u4EF6\uFF08A\uFF09\\\\\u5DE5\u7A0B\\\\\u770B\u770B\u4F60\u7684\u7F51\\\\cancanneed-network\\\\src\\\\index.js\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"C:\\\\Users\\\\chaog\\\\AppData\\\\Local\\\\npm-cache\\\\_npx\\\\32026684e21afda6\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"C:\\\\Users\\\\chaog\\\\AppData\\\\Local\\\\npm-cache\\\\_npx\\\\32026684e21afda6\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"A:\\\\\u6587\u4EF6\uFF08A\uFF09\\\\\u5DE5\u7A0B\\\\\u770B\u770B\u4F60\u7684\u7F51\\\\cancanneed-network\\\\src\\\\index.js\";\n\t\t\t\tconst MIDDLEWARE_TEST_INJECT = \"__INJECT_FOR_TESTING_WRANGLER_MIDDLEWARE__\";\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"A:\\\\\u6587\u4EF6\uFF08A\uFF09\\\\\u5DE5\u7A0B\\\\\u770B\u770B\u4F60\u7684\u7F51\\\\cancanneed-network\\\\.wrangler\\\\tmp\\\\bundle-qUvfQW\\\\middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"C:\\\\Users\\\\chaog\\\\AppData\\\\Local\\\\npm-cache\\\\_npx\\\\32026684e21afda6\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\common.ts\";\nimport type { WorkerEntrypointConstructor } from \"A:\\\\\u6587\u4EF6\uFF08A\uFF09\\\\\u5DE5\u7A0B\\\\\u770B\u770B\u4F60\u7684\u7F51\\\\cancanneed-network\\\\.wrangler\\\\tmp\\\\bundle-qUvfQW\\\\middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"A:\\\\\u6587\u4EF6\uFF08A\uFF09\\\\\u5DE5\u7A0B\\\\\u770B\u770B\u4F60\u7684\u7F51\\\\cancanneed-network\\\\.wrangler\\\\tmp\\\\bundle-qUvfQW\\\\middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n"],
  "mappings": ";;;;AAKA,IAAO,cAAQ;AAAA,EACb,MAAM,MAAM,SAAS,KAAK;AACxB,UAAM,MAAM,IAAI,IAAI,QAAQ,GAAG;AAC/B,UAAM,SAAS,IAAI,aAAa,IAAI,KAAK;AAKzC,QAAI,WAAW,WAAW;AACxB,aAAO,gBAAgB,SAAS,GAAG;AAAA,IACrC;AAGA,QAAI,WAAW,QAAQ;AACrB,aAAO,WAAW;AAAA,IACpB;AAGA,QAAI,WAAW,eAAe;AAC5B,aAAO,gBAAgB,OAAO;AAAA,IAChC;AAGA,WAAO,WAAW,OAAO;AAAA,EAC3B;AACF;AASA,SAAS,gBAAgB,SAAS;AAC9B,QAAM,KAAK,QAAQ,MAAM,CAAC;AAC1B,QAAM,SAAS,GAAG,kBAAkB;AACpC,QAAM,MAAM,GAAG,OAAO;AACtB,QAAM,KAAK,QAAQ,QAAQ,IAAI,kBAAkB,KAAK;AACtD,QAAM,OAAO,GAAG,QAAQ;AACxB,QAAM,WAAW,cAAc,IAAI;AACnC,QAAM,UAAU,YAAY,QAAQ,GAAG;AAEvC,QAAM,OAAO;AAAA,IACT;AAAA,IACA,MAAM;AAAA,MACF,MAAM;AAAA,MACN,MAAM,SAAS;AAAA,MACf,KAAK,SAAS;AAAA,IAClB;AAAA,IACA;AAAA,IACA,KAAK;AAAA,MACD,MAAM,QAAQ;AAAA,MACd,KAAK;AAAA,IACT;AAAA,EACJ;AAEA,SAAO,IAAI,SAAS,KAAK,UAAU,MAAM,MAAM,CAAC,GAAG;AAAA,IAC/C,SAAS;AAAA,MACL,gBAAgB;AAAA,MAChB,+BAA+B;AAAA,IACnC;AAAA,EACJ,CAAC;AACL;AA7BS;AAkCT,eAAe,gBAAgB,SAAS,KAAK;AAC3C,MAAI;AACF,UAAM,WAAW,MAAM,QAAQ,KAAK;AACpC,UAAM,SAAS,IAAI;AAEnB,QAAI,CAAC,QAAQ;AACX,aAAO,IAAI,SAAS,wGAAkC,EAAE,QAAQ,IAAI,CAAC;AAAA,IACvE;AAEA,UAAM,eAAe;AAAA,MACnB,OAAO;AAAA,MACP,UAAU;AAAA,QACR;AAAA,UACE,MAAM;AAAA,UACN,SAAS;AAAA;AAAA;AAAA;AAAA,EAEE,KAAK,UAAU,UAAU,MAAM,CAAC,CAAC;AAAA,QAC9C;AAAA,MACF;AAAA,MACA,QAAQ;AAAA,MACR,aAAa;AAAA,IACf;AAEA,UAAM,gBAAgB,MAAM,MAAM,yDAAyD;AAAA,MACzF,QAAQ;AAAA,MACR,SAAS;AAAA,QACP,gBAAgB;AAAA,QAChB,iBAAiB,UAAU,MAAM;AAAA,MACnC;AAAA,MACA,MAAM,KAAK,UAAU,YAAY;AAAA,IACnC,CAAC;AAED,QAAI,CAAC,cAAc,IAAI;AACnB,YAAM,YAAY,MAAM,cAAc,KAAK;AAC3C,YAAM,IAAI,MAAM,gDAAkB,cAAc,MAAM,IAAI,SAAS,EAAE;AAAA,IACzE;AAGA,UAAM,EAAC,UAAU,SAAQ,IAAI,IAAI,gBAAgB;AACjD,UAAM,SAAS,SAAS,UAAU;AAClC,UAAM,SAAS,cAAc,KAAK,UAAU;AAC5C,UAAM,UAAU,IAAI,YAAY;AAChC,UAAM,UAAU,IAAI,YAAY;AAEhC,KAAC,YAAY;AACX,UAAI,SAAS;AACb,UAAI;AACF,eAAO,MAAM;AACX,gBAAM,EAAE,MAAM,MAAM,IAAI,MAAM,OAAO,KAAK;AAC1C,cAAI,KAAM;AAEV,oBAAU,QAAQ,OAAO,OAAO,EAAE,QAAQ,KAAK,CAAC;AAChD,cAAI;AACJ,kBAAQ,WAAW,OAAO,QAAQ,IAAI,OAAO,IAAI;AAC/C,kBAAM,OAAO,OAAO,UAAU,GAAG,QAAQ,EAAE,KAAK;AAChD,qBAAS,OAAO,UAAU,WAAW,CAAC;AAEtC,gBAAI,KAAK,WAAW,QAAQ,GAAG;AAC7B,oBAAM,UAAU,KAAK,UAAU,CAAC;AAChC,kBAAI,QAAQ,KAAK,MAAM,SAAU;AACjC,kBAAI;AACF,sBAAM,OAAO,KAAK,MAAM,OAAO;AAC/B,sBAAM,UAAU,KAAK,QAAQ,CAAC,GAAG,OAAO,WAAW;AACnD,oBAAI,SAAS;AACX,wBAAM,OAAO,MAAM,QAAQ,OAAO,OAAO,CAAC;AAAA,gBAC5C;AAAA,cACF,SAAS,GAAG;AACV,wBAAQ,MAAM,qBAAqB,CAAC;AAAA,cACtC;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF,SAAS,OAAO;AACd,gBAAQ,MAAM,4BAA4B,KAAK;AAC/C,cAAM,OAAO,MAAM,KAAK;AAAA,MAC1B,UAAE;AACA,cAAM,OAAO,MAAM;AAAA,MACrB;AAAA,IACF,GAAG;AAEH,WAAO,IAAI,SAAS,UAAU;AAAA,MAC5B,SAAS,EAAE,gBAAgB,2BAA2B;AAAA,IACxD,CAAC;AAAA,EAEH,SAAS,OAAO;AACd,WAAO,IAAI,SAAS,MAAM,SAAS,EAAE,QAAQ,IAAI,CAAC;AAAA,EACpD;AACF;AAvFe;AA4Ff,SAAS,aAAa;AACpB,SAAO,IAAI,SAAS,QAAQ;AAAA,IAC1B,SAAS;AAAA,MACL,gBAAgB;AAAA,MAChB,iBAAiB;AAAA,MACjB,+BAA+B;AAAA,IACnC;AAAA,EACF,CAAC;AACH;AARS;AAiBT,SAAS,WAAW,SAAS;AACzB,QAAM,KAAK,QAAQ,MAAM,CAAC;AAC1B,QAAM,SAAS,GAAG,kBAAkB;AACpC,QAAM,MAAM,GAAG,OAAO;AACtB,QAAM,OAAO,GAAG,QAAQ;AACxB,QAAM,SAAS,GAAG,UAAU;AAC5B,QAAM,KAAK,QAAQ,QAAQ,IAAI,kBAAkB,KAAK;AACtD,QAAM,OAAO,GAAG,QAAQ;AACxB,QAAM,WAAW,cAAc,IAAI;AAEnC,MAAI,WAAW,SAAS;AACxB,MAAI,SAAS,KAAK;AACd,eAAW,qCAAqC,SAAS,GAAG,+BAA+B,SAAS,GAAG,MAAM,SAAS,IAAI,+BAA+B,IAAI;AAAA,EACjK,OAAO;AACH,eAAW,GAAG,SAAS,IAAI,+BAA+B,IAAI;AAAA,EAClE;AAGA,MAAI,MAAM,OAAO,GAAG,YAAY,KAAK;AACrC,MAAI,aAAa,MAAM;AACvB,MAAI,WAAW;AACf,MAAI,UAAU;AAEd,MAAI,QAAQ,GAAG;AACX,cAAU;AACV,iBAAa;AAAA,EACjB,OAAO;AACH,QAAI,MAAM,IAAK,YAAW;AAAA,aACjB,MAAM,IAAK,YAAW;AAAA,EACnC;AAEA,QAAM,UAAU,YAAY,QAAQ,GAAG;AACvC,QAAM,cAAc,CAAC,MAAM,MAAM,EAAE,OAAO,OAAO,EAAE,KAAK,IAAI;AAG5D,SAAO,IAAI,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDA+CwB,QAAQ,KAAK,iBAAiB,QAAQ,EAAE;AAAA;AAAA;AAAA,oCAGpD,QAAQ,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kHAgBiE,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCA2IvF,QAAQ,IAAI;AAAA;AAAA,oIAEkD,EAAE;AAAA;AAAA;AAAA,4GAGN,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA,uDAKjD,QAAQ;AAAA,uEACQ,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uIAkDkC,QAAQ;AAAA,yGAC5B,GAAG;AAAA,+HACmB,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAmF7F,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA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",
  "names": []
}
